<!DOCTYPE html>
<html lang="ko">
<head>
  <link rel="manifest" href="manifest.json" />
  <link rel="apple-touch-icon" href="icon.png" />
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="default">
  <meta name="theme-color" content="#4F46E5">
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Î∂ÄÏÑùÍ≥† ÏπúÎ∞Ä ÎèÑÍ∞ê</title>
  <style>
    body {
      margin: 0;
      font-family: 'Pretendard', sans-serif;
      background: #f9f9fb;
      color: #222;
      padding: 1rem;
    }
    h1 {
      font-size: 2rem;
      font-weight: bold;
      margin-bottom: 1rem;
      text-align: center;
    }
    .controls {
      display: flex;
      flex-wrap: wrap;
      gap: 0.5rem;
      justify-content: center;
      margin-bottom: 1.5rem;
    }
    .controls input {
      padding: 0.5rem;
      font-size: 1rem;
      border-radius: 6px;
      border: 1px solid #ccc;
      flex: 1;
      min-width: 150px;
    }
    .controls button {
      padding: 0.5rem 1rem;
      font-size: 1rem;
      border-radius: 6px;
      background-color: #4F46E5;
      color: white;
      border: none;
      cursor: pointer;
    }
    .section {
      margin-bottom: 2rem;
    }
    .section-title {
      font-size: 1.25rem;
      font-weight: 600;
      margin-bottom: 0.75rem;
      color: #333;
      border-left: 4px solid #4F46E5;
      padding-left: 0.5rem;
    }
    .grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
      gap: 0.75rem;
    }
    .card {
      border: 1px solid #eee;
      border-radius: 12px;
      padding: 0.5rem;
      background-color: white;
      text-align: center;
      position: relative;
    }
    .card input[type='checkbox'] {
      position: absolute;
      top: 8px;
      left: 8px;
      transform: scale(1.3);
      display: none;
    }
    .card-name {
      font-size: 1rem;
      font-weight: 500;
    }
  </style>
</head>
<body>
  <h1>üìñ Î∂ÄÏÑùÍ≥† ÏπúÎ∞Ä ÎèÑÍ∞ê</h1>
  <div class="controls">
    <input type="text" id="searchInput" placeholder="Ïù¥Î¶Ñ Í≤ÄÏÉâ..." />
    <button onclick="addEntry()">ÎèÑÍ∞ê Ï∂îÍ∞Ä</button>
    <button onclick="confirmDelete()">ÏÑ†ÌÉù ÏÇ≠Ï†ú</button>
  </div>
  <div id="docContainer"></div>

  <script>
    let entries = {
      "5": ['ÏßÄÏùÄ', 'ÏòàÏõê', 'Ïù∏ÏßÄ', 'Í±¥Ïù¥', 'Ï§ÄÏÑú', 'Í∏∞ÌÉú', 'Ïó∞Ï£º', 'ÎØºÏÑ±'],
      "4": ['Ïò§Ìï¥Ïäπ', 'Í∞ïÎØºÏ∞¨', 'ÍπÄÏú†ÏßÑ', 'ÏïàÏû¨ÏÑ±', 'ÏïàÌÉúÌòÑ', 'ÏµúÏßÑÌò∏', 'ÍπÄÏÑúÏïÑ', 'Ïù¥Ï¥àÏú§', 'Í≥µÏ§ÄÌò∏'],
      "3": ['Ïù¥Ïú†Ï∞¨', 'Ïù¥Ï±ÑÌòÅ', 'Ï°∞Ìö®Ïû¨', 'ÏïàÌòÑÏ§Ä', 'ÎèÑÏ§ÄÏòÅ', 'ÍπÄÍ∞ÄÌòÑ(ÏΩî)', 'ÍπÄÍ¥ÄÌòÑ', 'Ï±ÑÏ§ÄÌòÅ',
            'Î∞ïÏÜåÏó∞(1Î∞ò)', 'ÎÖ∏ÏÑùÌòÑ', 'Ïù¥Ïö©Ìõà', 'ÏßÄÏäπÏó∞'],
      "2.5": ['Î∞ïÍ±¥ÏòÅ', 'ÍπÄÏó∞ÏïÑ', 'ÏµúÏßÄÏù∏', 'ÌïúÏßÑÍ∑ú', 'Î∞ïÏ∞ΩÎ¨¥', 'Í∂åÏàúÌò∏', 'ÏµúÏÑúÌïò', 'Ïú†Î≥¥ÌòÑ', 'ÍπÄÏó∞Ïàò', 'Ï†ÑÏäπÎØº'],
      "2": ['ÏµúÏùÄÎπà', 'ÏÑúÏßÄÏõê', 'Ïù¥ÌòÑÏ§Ä', 'ÍπÄÎÇòÍ≤Ω', 'Ïú†ÏïÑÎûÄ', 'Í∞ÄÎ™ÖÏù∏', 'ÍπÄÏ†ïÌõà', 'ÍπÄÏòàÏßÄ', 'Ìô©Ïû¨Ïõê',
            'Í∞ïÎØºÍ∑ú', 'ÌïúÏú†Ï∞¨', 'ÏÜ°Î™ÖÏ§Ä', 'ÍπÄÏÑ±Ìò∏', 'ÏïàÏ§ÄÌòÅ', 'ÌòÑÏÑù', 'ÍπÄÎØºÍ≤Ω', 'Ïù¥Ï†ïÌòÑ', 'Ï†ïÌÉúÏßÑ',
            'Í∞ïÌò∏Í∏∏', 'Ïù¥ÏßÄÌò∏', 'Ïù¥Î†πÌòú', 'Ïã¨Ï£ºÏòÅ', 'Ïù¥Í¥ëÌòï', 'Î∞ïÏÜåÏó∞(2)', 'ÏµúÏßÄÌù¨', 'Î∞ïÍ∞ïÎëê'],
      "1": ['Ïú§ÏßÄÌï®', 'ÏïàÌòÑÏ£º', 'Ïù¥Ï§Ä', 'ÍπÄÍ≤ΩÏßÑ', 'ÏóºÏ†ïÌôî', 'ÌïòÎèÑÏó∞', 'Ïù¥Ï±ÑÎ¶¨', 'Ïú†ÏäπÎØº', 'Ïã†Ïö∞ÏòÅ',
            'Í∏∞ÎìúÎ≥¥Îùº', 'Ïù¥ÎØºÏ§Ä', 'ÏñëÎèÑÍ∑†', 'Ï†ïÏòàÏßÄ', 'Í∂åÏùòÏÑ†', 'Í≤ΩÌÉúÌù¨', 'ÏµúÏõêÎ≥µ', 'ÍπÄÍ∞ÄÌòÑ(Îàà)'],
      "0": ['ÎèÑÍ∞ÄÎûå', 'Í∞ïÏàòÏïÑ', 'Ìô©ÎØºÍ∑ú', 'ÌïúÏùÄÏ∞¨', 'ÍπÄÍ±¥Ïö∞', 'ÌôçÏÑ±Ï±Ñ', 'Í∞ÄÎèÑÌò∏', 'ÍπÄÎèÑÏòÅ', 'Î∞±Ï¢ÖÏ∞¨',
            'Î∞ïÏàòÏó∞', 'ÌïúÏòàÏßÑ', 'Ï†ïÏãúÌõÑ', 'Ïò§ÎØºÏÑù', 'Ïú§ÏãúÏõê', 'Í∞ïÎã§ÏòÅ', 'Ïó∞ÏäπÏ§Ä', 'Í∞ïÏòàÎ¶∞', 'Ïú§ÏÑúÏó∞'],
      "-1": ['ÍπÄÌÉúÏù∏', 'Ïù¥ÌïúÌù¨', 'Î¨∏Ïú§Î™®', 'ÌôçÏÑ±Í∑ú', 'Ïã†Ïù¥Îûë', 'ÏÑ±Ïú§ÏÑú', 'Ï†ïÏäπÏ∞¨', 'Ïù¥Ìù¨ÏÑù', 'ÍπÄÍ∑úÎØº',
             'ÍπÄÍ∞ÄÌòÑ(2)', 'ÏûÑÌòÑÏàò', 'Ïù¥Ï∞®Îπà', 'Ïù¥ÎØºÏ£º', 'Ïú†ÌïòÎØº'],
      "-2": ['Ïù¥ÌòÑÏÑú', 'ÍπÄÏÑ§Ìúò', 'Ìï®ÌòÑÏ§Ä', 'Ïû•ÏàòÎπà']
    };

    let selecting = false;
    const docContainer = document.getElementById('docContainer');
    const searchInput = document.getElementById('searchInput');

    function render(filter = '') {
      docContainer.innerHTML = '';
      const levels = Object.keys(entries).sort((a, b) => b - a);
      for (const level of levels) {
        const names = entries[level].filter(name => name.includes(filter));
        if (names.length === 0) continue;

        const section = document.createElement('div');
        section.className = 'section';

        const title = document.createElement('div');
        title.className = 'section-title';
        title.textContent = `ÏπúÎ∞ÄÎèÑ ${level}`;
        section.appendChild(title);

        const grid = document.createElement('div');
        grid.className = 'grid';

        for (const name of names) {
          const card = document.createElement('div');
          card.className = 'card';

          const checkbox = document.createElement('input');
          checkbox.type = 'checkbox';
          checkbox.value = name;
          checkbox.style.display = selecting ? 'block' : 'none';

          const nameDiv = document.createElement('div');
          nameDiv.className = 'card-name';
          nameDiv.textContent = name;

          card.appendChild(checkbox);
          card.appendChild(nameDiv);
          grid.appendChild(card);
        }

        section.appendChild(grid);
        docContainer.appendChild(section);
      }
    }

    function addEntry() {
      const name = prompt('Ïù¥Î¶ÑÏùÑ ÏûÖÎ†•ÌïòÏÑ∏Ïöî:');
      const level = prompt('ÏπúÎ∞ÄÎèÑÎ•º ÏûÖÎ†•ÌïòÏÑ∏Ïöî (Ïòà: 3):');
      if (!name || isNaN(level)) return alert('Ïù¥Î¶ÑÍ≥º Ïà´Ïûê ÌòïÏãùÏùò ÏπúÎ∞ÄÎèÑÍ∞Ä ÌïÑÏöîÌï©ÎãàÎã§.');
      if (!entries[level]) entries[level] = [];
      entries[level].push(name);
      render(searchInput.value);
    }

    function confirmDelete() {
      selecting = !selecting;
      render(searchInput.value);
      if (!selecting) {
        const selected = Array.from(document.querySelectorAll('.card input:checked')).map(cb => cb.value);
        if (selected.length === 0) return;
        const ok = confirm(`${selected.length}Î™ÖÏùÑ Ï†ïÎßê ÏÇ≠Ï†úÌïòÏãúÍ≤†ÏäµÎãàÍπå?`);
        if (!ok) return;
        deleteEntries(selected);
      }
    }

    function deleteEntries(namesToDelete) {
      for (const level in entries) {
        entries[level] = entries[level].filter(name => !namesToDelete.includes(name));
        if (entries[level].length === 0) delete entries[level];
      }
      render(searchInput.value);
    }

    searchInput.addEventListener('input', () => render(searchInput.value));
    render();
  </script>
</body>
</html>
